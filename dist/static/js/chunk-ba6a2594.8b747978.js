/*!
 *  build: vueAdmin 
 *  vueAdmin author: Guoyu 
 *  tell:13250713185 
 *  time: 2021-4-19 13:24:39
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba6a2594"],{"55dd":function(e,t,a){"use strict";a("83ba")},"7abe":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-container"},[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form",{staticClass:"seachBar",attrs:{model:e.queryForm,inline:!0}},[a("el-form-item",{attrs:{label:"设备名字"}},[a("el-input",{attrs:{placeholder:"请输入名字",size:"medium"},model:{value:e.queryForm.devicename,callback:function(t){e.$set(e.queryForm,"devicename",t)},expression:"queryForm.devicename"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.queryForm.devicestatus,callback:function(t){e.$set(e.queryForm,"devicestatus",t)},expression:"queryForm.devicestatus"}},[a("el-option",{attrs:{label:"全部",value:void 0}}),a("el-option",{attrs:{label:"在线",value:1}}),a("el-option",{attrs:{label:"离线",value:0}})],1)],1),a("el-form-item",{attrs:{label:"IP地址"}},[a("el-input",{attrs:{placeholder:"请输入IP地址",size:"medium"},model:{value:e.queryForm.ip,callback:function(t){e.$set(e.queryForm,"ip",t)},expression:"queryForm.ip"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"medium"},on:{click:e.handleQuery}},[e._v(" 搜索 ")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"medium"},on:{click:e.resetQuery}},[e._v(" 重置 ")])],1)],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"topBarMe"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"medium"},on:{click:function(t){return e.changeForm("","add")}}},[e._v(" 添加 ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"medium"},on:{click:function(t){return e.handleDelete("","more")}}},[e._v(" 删除 ")])],1)]),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"tableSort",attrs:{data:e.list,"element-loading-text":e.elementLoadingText},on:{"selection-change":e.setSelectRows}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"编号",prop:"id",width:"60",align:"center"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"是否禁用",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(e._f("formartDisabled")(t.row.disabled))+" ")])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"设备类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(e._f("formartDeviceType")(t.row.type))+" ")])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"设备名称",prop:"devicename",align:"center"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"IP地址",prop:"ip",align:"center"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"设备位置",prop:"location",align:"center"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"备注",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(t.row.remark||"暂无")+" ")])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"创建时间",prop:"createtime",align:"center"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"绑定人数",prop:"number",align:"center"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"设备状态",prop:"devicestatus",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e._f("formartType")(t.row.devicestatus)}},[e._v(" "+e._s(e._f("formartStatus")(t.row.devicestatus))+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"230",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.changeForm(t.row,"edit")}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleDelete(t.row,"one")}}},[e._v(" 删除 ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryForm.pageIndex,layout:e.layout,"page-size":e.queryForm.count,total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)])],1),a("el-dialog",{attrs:{title:e.fullPageTitle,width:"40%",visible:e.fullPageShow},on:{"update:visible":function(t){e.fullPageShow=t}}},[a("el-form",{attrs:{model:e.xform,"label-position":"right","label-width":"80px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"required"},[e._v("*")]),e._v(" 名称 ")]),a("el-input",{attrs:{size:"medium",placeholder:"输入设备名称"},model:{value:e.xform.devicename,callback:function(t){e.$set(e.xform,"devicename",t)},expression:"xform.devicename"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"required"},[e._v("*")]),e._v(" 名称 ")]),a("el-radio-group",{model:{value:e.xform.disabled,callback:function(t){e.$set(e.xform,"disabled",t)},expression:"xform.disabled"}},[a("el-radio",{attrs:{label:0}},[e._v("启用")]),a("el-radio",{attrs:{label:1}},[e._v("禁用")])],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"required"},[e._v("*")]),e._v(" 类型 ")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.xform.type,callback:function(t){e.$set(e.xform,"type",t)},expression:"xform.type"}},[a("el-option",{attrs:{label:"面板机",value:1}})],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"required"},[e._v("*")]),e._v(" 地址 ")]),a("el-input",{attrs:{size:"medium",placeholder:"输入地址"},model:{value:e.xform.location,callback:function(t){e.$set(e.xform,"location",t)},expression:"xform.location"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"required"},[e._v("*")]),e._v(" 设备IP ")]),a("el-input",{attrs:{size:"medium",placeholder:"输入设备IP"},model:{value:e.xform.ip,callback:function(t){e.$set(e.xform,"ip",t)},expression:"xform.ip"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.subxform}},[e._v("确 定")])],1)],1)],1)},l=[],r=a("60b5"),s=(a("6a61"),a("e072")),i={name:"Management",filters:{formartType:function(e){var t="";return t=0===e?"error":"success",t},formartStatus:function(e){var t="";return t=0===e?"离线":"在线",t},formartDeviceType:function(e){var t="";return t=1===e?"面板机":"其他",t},formartDisabled:function(e){var t="";return t=0===e?"启用":"禁用",t}},data:function(){return{fullPageShow:!1,fullPageTitle:"",formDisplay:!1,xform:{devicename:void 0,devicestatus:void 0,disabled:0,ip:void 0,lastconnectiontime:void 0,location:void 0,message:void 0,message2:void 0,noper:void 0,ntag:void 0,ntag2:void 0,remark:void 0,type:1,uuid:void 0,workmodel:void 0},list:[],listLoading:!1,layout:"total, sizes, prev, pager, next, jumper",total:0,elementLoadingText:"正在加载...",queryForm:{deviceId:void 0,deviceName:void 0,devicestatus:void 0,ip:void 0,pageNum:1,pageSize:20}}},created:function(){this.fetchData()},methods:{setSelectRows:function(e){this.selectRows=e},handleSizeChange:function(e){this.queryForm.pageSize=e,this.fetchData()},handleCurrentChange:function(e){this.queryForm.pageNum=e,this.fetchData()},handleQuery:function(){this.queryForm.pageNum=1,this.fetchData()},resetQuery:function(){this.queryForm={deviceId:0,deviceName:"",devicestatus:void 0,ip:"",pageNum:1,pageSize:20},this.fetchData(),this.$router.go(0)},handleDelete:function(e,t){var a=this;if("one"==t){var o={id:e.id};this.$baseConfirm("你确定要删除"+e.devicename+"吗",null,Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["deleteDevice"])(o);case 2:t=e.sent,t?(a.$baseMessage("已删除","success"),a.fetchData()):a.$baseMessage("删除出错","error");case 4:case"end":return e.stop()}}),e)}))))}else this.$baseMessage("暂时不支持多选删除","error");this.fetchData()},changeForm:function(e,t){this.fullPageShow=!0,"add"==t?(this.fullPageTitle="增加设备",this.xform={devicename:void 0,devicestatus:void 0,disabled:0,ip:void 0,lastconnectiontime:void 0,location:void 0,message:void 0,message2:void 0,noper:void 0,ntag:void 0,ntag2:void 0,remark:void 0,type:1,uuid:void 0,workmodel:void 0}):(this.fullPageTitle="编辑人员",console.log(e),this.xform.devicename=e.devicename,this.xform.devicestatus=e.devicestatus,this.xform.disabled=e.disabled,this.xform.ip=e.ip,this.xform.lastconnectiontime=e.lastconnectiontime,this.xform.location=e.location,this.xform.message=e.message,this.xform.message2=e.message2,this.xform.noper=e.noper,this.xform.ntag=e.ntag,this.xform.remark=e.remark,this.xform.type=e.type,this.xform.uuid=e.uuid,this.xform.workmodel=e.workmodel)},subxform:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("增加设备"!==e.fullPageTitle){t.next=7;break}return t.next=3,Object(s["addDevice"])(e.xform);case 3:a=t.sent,a?(e.$baseMessage("已添加","success"),e.fullPageShow=!1,e.fetchData()):e.$baseMessage("添加失败","error"),t.next=11;break;case 7:return t.next=9,Object(s["editDevice"])(e.xform);case 9:o=t.sent,0!==o?(e.$baseMessage("编辑成功","success"),e.fullPageShow=!1,e.fetchData()):e.$baseMessage("编辑失败","error");case 11:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!0,t.next=3,Object(s["queryAll"])(e.queryForm);case 3:a=t.sent,a?(e.list=a.items,e.total=a.count,setTimeout((function(){e.listLoading=!1}),500)):setTimeout((function(){e.listLoading=!1}),500);case 5:case"end":return t.stop()}}),t)})))()}}},n=i,c=(a("55dd"),a("5d22")),u=Object(c["a"])(n,o,l,!1,null,"ae869196",null);t["default"]=u.exports},"83ba":function(e,t,a){}}]);